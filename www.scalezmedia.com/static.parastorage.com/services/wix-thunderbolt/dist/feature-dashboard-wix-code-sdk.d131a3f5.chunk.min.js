(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [9105], {
        2879: function(e, n, t) {
            "use strict";
            t.d(n, {
                sj: function() {
                    return v
                },
                Yy: function() {
                    return o
                },
                Ud: function() {
                    return d
                }
            });
            const r = Symbol("Comlink.proxy"),
                a = Symbol("Comlink.endpoint"),
                o = Symbol("Comlink.releaseProxy"),
                i = Symbol("Comlink.thrown"),
                s = e => "object" == typeof e && null !== e || "function" == typeof e,
                u = new Map([
                    ["proxy", {
                        canHandle: e => s(e) && e[r],
                        serialize(e) {
                            const {
                                port1: n,
                                port2: t
                            } = new MessageChannel;
                            return c(e, n), [t, [t]]
                        },
                        deserialize: e => (e.start(), d(e))
                    }],
                    ["throw", {
                        canHandle: e => s(e) && i in e,
                        serialize({
                            value: e
                        }) {
                            let n;
                            return n = e instanceof Error ? {
                                isError: !0,
                                value: {
                                    message: e.message,
                                    name: e.name,
                                    stack: e.stack
                                }
                            } : {
                                isError: !1,
                                value: e
                            }, [n, []]
                        },
                        deserialize(e) {
                            if (e.isError) throw Object.assign(new Error(e.value.message), e.value);
                            throw e.value
                        }
                    }]
                ]);

            function c(e, n = self) {
                n.addEventListener("message", (function t(r) {
                    if (!r || !r.data) return;
                    const {
                        id: a,
                        type: o,
                        path: s
                    } = Object.assign({
                        path: []
                    }, r.data), u = (r.data.argumentList || []).map(b);
                    let d;
                    try {
                        const n = s.slice(0, -1).reduce(((e, n) => e[n]), e),
                            t = s.reduce(((e, n) => e[n]), e);
                        switch (o) {
                            case 0:
                                d = t;
                                break;
                            case 1:
                                n[s.slice(-1)[0]] = b(r.data.value), d = !0;
                                break;
                            case 2:
                                d = t.apply(n, u);
                                break;
                            case 3:
                                d = v(new t(...u));
                                break;
                            case 4:
                                {
                                    const {
                                        port1: n,
                                        port2: t
                                    } = new MessageChannel;c(e, t),
                                    d = function(e, n) {
                                        return g.set(e, n), e
                                    }(n, [n])
                                }
                                break;
                            case 5:
                                d = void 0
                        }
                    } catch (e) {
                        d = {
                            value: e,
                            [i]: 0
                        }
                    }
                    Promise.resolve(d).catch((e => ({
                        value: e,
                        [i]: 0
                    }))).then((e => {
                        const [r, i] = m(e);
                        n.postMessage(Object.assign(Object.assign({}, r), {
                            id: a
                        }), i), 5 === o && (n.removeEventListener("message", t), f(n))
                    }))
                })), n.start && n.start()
            }

            function f(e) {
                (function(e) {
                    return "MessagePort" === e.constructor.name
                })(e) && e.close()
            }

            function d(e, n) {
                return p(e, [], n)
            }

            function l(e) {
                if (e) throw new Error("Proxy has been released and is not useable")
            }

            function p(e, n = [], t = function() {}) {
                let r = !1;
                const i = new Proxy(t, {
                    get(t, a) {
                        if (l(r), a === o) return () => y(e, {
                            type: 5,
                            path: n.map((e => e.toString()))
                        }).then((() => {
                            f(e), r = !0
                        }));
                        if ("then" === a) {
                            if (0 === n.length) return {
                                then: () => i
                            };
                            const t = y(e, {
                                type: 0,
                                path: n.map((e => e.toString()))
                            }).then(b);
                            return t.then.bind(t)
                        }
                        return p(e, [...n, a])
                    },
                    set(t, a, o) {
                        l(r);
                        const [i, s] = m(o);
                        return y(e, {
                            type: 1,
                            path: [...n, a].map((e => e.toString())),
                            value: i
                        }, s).then(b)
                    },
                    apply(t, o, i) {
                        l(r);
                        const s = n[n.length - 1];
                        if (s === a) return y(e, {
                            type: 4
                        }).then(b);
                        if ("bind" === s) return p(e, n.slice(0, -1));
                        const [u, c] = h(i);
                        return y(e, {
                            type: 2,
                            path: n.map((e => e.toString())),
                            argumentList: u
                        }, c).then(b)
                    },
                    construct(t, a) {
                        l(r);
                        const [o, i] = h(a);
                        return y(e, {
                            type: 3,
                            path: n.map((e => e.toString())),
                            argumentList: o
                        }, i).then(b)
                    }
                });
                return i
            }

            function h(e) {
                const n = e.map(m);
                return [n.map((e => e[0])), (t = n.map((e => e[1])), Array.prototype.concat.apply([], t))];
                var t
            }
            const g = new WeakMap;

            function v(e) {
                return Object.assign(e, {
                    [r]: !0
                })
            }

            function m(e) {
                for (const [n, t] of u)
                    if (t.canHandle(e)) {
                        const [r, a] = t.serialize(e);
                        return [{
                            type: 3,
                            name: n,
                            value: r
                        }, a]
                    }
                return [{
                    type: 0,
                    value: e
                }, g.get(e) || []]
            }

            function b(e) {
                switch (e.type) {
                    case 3:
                        return u.get(e.name).deserialize(e.value);
                    case 0:
                        return e.value
                }
            }

            function y(e, n, t) {
                return new Promise((r => {
                    const a = new Array(4).fill(0).map((() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))).join("-");
                    e.addEventListener("message", (function n(t) {
                        t.data && t.data.id && t.data.id === a && (e.removeEventListener("message", n), r(t.data))
                    })), e.start && e.start(), e.postMessage(Object.assign({
                        id: a
                    }, n), t)
                }))
            }
        },
        4039: function(e, n, t) {
            "use strict";
            t.r(n), t.d(n, {
                DashboardSdkFactory: function() {
                    return _
                }
            });
            var r = {};
            t.r(r), t.d(r, {
                init: function() {
                    return L
                },
                navigate: function() {
                    return E
                },
                observeState: function() {
                    return j
                },
                registerHeightReporter: function() {
                    return S
                },
                showToast: function() {
                    return x
                }
            });
            var a = t(1191);
            const o = "dashboardWixCodeSdk",
                i = e => {
                    const n = {
                        invoke: (n, ...t) => e("invoke", n, ...t),
                        notifyListeners: (n, ...t) => e("notifyListeners", n, ...t),
                        addListener: (n, t) => e("addListener", n, t),
                        getModuleParams: () => e("getModuleParams"),
                        openLightbox: () => e("openLightbox"),
                        closeLightbox: () => e("closeLightbox"),
                        showToast: e => n.invoke("businessManager.showToast", e),
                        showBadge: e => n.invoke("businessManager.showSidebarBadge", e),
                        navigateTo: e => n.invoke("businessManager.navigateTo", e),
                        getCurrentInstance: e => n.invoke("businessManager.getCurrentInstance", e),
                        getMandatoryBIFields: () => n.invoke("businessManager.getMandatoryBIFields"),
                        notifyViewStartLoading: e => n.notifyListeners("businessManager.viewStartLoading", e),
                        notifyViewFinishedLoading: e => n.notifyListeners("businessManager.viewFinishedLoading", e),
                        notifyViewFirstInteractive: e => n.notifyListeners("businessManager.viewFirstInteractive", e)
                    };
                    return n
                };
            var s = t(448);
            const u = e => {
                let n, t;
                return async (r, ...a) => {
                    n || (t = await e(), t && (n = (0, s.Ud)(t)));
                    const [o, i] = (e => {
                        const n = [],
                            t = e => (n.push(e), {
                                proxyId: n.length - 1
                            }),
                            r = e => {
                                return e instanceof Promise || (n = e) && "[object Function]" === {}.toString.call(n) ? t(e) : Array.isArray(e) ? e.map(r) : e === Object(e) ? Object.entries(e).reduce(((e, [n, t]) => (e[n] = r(t), e)), {}) : e;
                                var n
                            };
                        return [r(e), (0, s.sj)(n)]
                    })(a);
                    return n && n[r](o, i)
                }
            };
            var c = new Set(["https://manage.wix.com", "https://manage.editorx.com"]);
            var f, d, l = t(2879),
                p = "__proxyCallbackId__wixSDK__",
                h = function(e, n) {
                    var t;
                    if (b(e)) {
                        var r = w();
                        return n[r] = function(n, t) {
                            var r = g(t, n);
                            return e.apply(void 0, r)
                        }, (t = {})[p] = r, t
                    }
                    return Array.isArray(e) ? e.map((function(e) {
                        return h(e, n)
                    })) : m(e) ? y(e, (function(e) {
                        return h(e, n)
                    })) : e
                },
                g = function(e, n) {
                    if (Array.isArray(e)) return e.map((function(e) {
                        return g(e, n)
                    }));
                    if (m(e) && e.hasOwnProperty(p)) {
                        var t = e[p];
                        return function() {
                            for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
                            var a = {},
                                o = h(e, a);
                            return n[t]((0, l.sj)(a), o)
                        }
                    }
                    return m(e) ? y(e, (function(e) {
                        return g(e, n)
                    })) : e
                },
                v = function(e, n) {
                    return new Proxy(e, {
                        get: function(e, t) {
                            return n(e[t])
                        }
                    })
                },
                m = function(e) {
                    return e && "object" == typeof e
                },
                b = function(e) {
                    return "function" == typeof e
                },
                y = function(e, n) {
                    return Object.fromEntries(Object.entries(e).map((function(e) {
                        var t = e[0],
                            r = e[1];
                        return [t, n(r)]
                    })))
                },
                w = (f = 0, function() {
                    return ++f
                }),
                k = function() {
                    if (!d) throw new Error("SDK was not initialized");
                    return d
                },
                M = function() {
                    return (0, a.mG)(void 0, void 0, void 0, (function() {
                        var e;
                        return (0, a.Jh)(this, (function(n) {
                            switch (n.label) {
                                case 0:
                                    return d ? (e = d, d = void 0, [4, e[l.Yy]()]) : [3, 2];
                                case 1:
                                    n.sent(), n.label = 2;
                                case 2:
                                    return [2]
                            }
                        }))
                    }))
                },
                L = function(e) {
                    var n = e.postMessage,
                        t = e.origin;
                    M();
                    var r, a = function(e) {
                        var n = e.postMessage,
                            t = e.origin;
                        if (!t) throw new Error("Origin must be provided in the URL search params.");
                        if (!c.has(t)) throw new Error("Invalid origin. Can't handshake with provided origin");
                        var r = new MessageChannel,
                            a = r.port1,
                            o = r.port2;
                        return n({
                            code: "wix-sdk-bo-hello-handshake",
                            version: "1.0.0",
                            port: o
                        }, t, [o]), a
                    }({
                        postMessage: n,
                        origin: t
                    });
                    return r = (0, l.Ud)(a), d = v(r, (function(e) {
                        return function() {
                            for (var n = [], t = 0; t < arguments.length; t++) n[t] = arguments[t];
                            var r = {},
                                a = h(n, r);
                            return e((0, l.sj)(r), a)
                        }
                    })), M
                },
                S = function(e) {
                    void 0 === e && (e = document.documentElement);
                    var n = new ResizeObserver((function() {
                        return n = e, void k().updateHeight(n.offsetHeight);
                        var n
                    }));
                    return n.observe(e),
                        function() {
                            return n.disconnect()
                        }
                },
                x = function() {
                    for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                    return (0, a.mG)(void 0, void 0, void 0, (function() {
                        var n;
                        return (0, a.Jh)(this, (function(t) {
                            return [2, (n = k()).showToast.apply(n, e)]
                        }))
                    }))
                },
                j = function() {
                    for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                    return (0, a.mG)(void 0, void 0, void 0, (function() {
                        var n;
                        return (0, a.Jh)(this, (function(t) {
                            return [2, (n = k()).observeState.apply(n, e)]
                        }))
                    }))
                },
                E = function() {
                    for (var e, n = [], t = 0; t < arguments.length; t++) n[t] = arguments[t];
                    return (e = k()).navigate.apply(e, n)
                };

            function _({
                handlers: e,
                platformEnvData: n,
                onPageWillUnmount: t
            }) {
                const c = u(e[o].getDashboardApi);
                let f = {};
                try {
                    if (function({
                            experiments: e,
                            locationHref: n
                        }) {
                            return "true" === new URL(n).searchParams.get("dashboardSdkAvailable") && (Boolean(e["specs.thunderbolt.exposeNewDashboardSdkWithVelo"]) || Boolean(e["specs.thunderbolt.exposeNewDashboardSdkWithVelo_loggedIn"]))
                        }({
                            experiments: n.site.experiments,
                            locationHref: n.location.rawUrl
                        })) {
                        const i = e[o].postMessageParent,
                            {
                                init: u
                            } = r;
                        f = (0, a._T)(r, ["init"]);
                        const c = u({
                            origin: (d = n.location.rawUrl, new URL(d).searchParams.get("origin") || ""),
                            postMessage: (e, n, t) => i(e, n, (0, s.re)(t, t))
                        });
                        t((() => {
                            c && c()
                        }))
                    }
                } catch (n) {
                    throw e[o].captureError(n), n
                }
                var d;
                return {
                    dashboard: Object.assign(Object.assign({}, i(c)), f)
                }
            }
        }
    }
]);
//# sourceMappingURL=feature-dashboard-wix-code-sdk.d131a3f5.chunk.min.js.map